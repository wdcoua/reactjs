{"version":3,"sources":["utils/validate/validator.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","components/Login/Login.module.css","components/Login/Login.jsx"],"names":["required","value","length","maxLenCreator","maxLen","minLenCreator","minLen","FormControl","input","meta","touched","error","elType","props","hasError","className","styles","formControls","React","createElement","Textarea","Input","Hidden","type","createMyField","placeholder","component","name","validators","text","validate","module","exports","Login","LoginReduxForm","onSubmit","email","pass","rememberMe","captcha","auth","isAuth","to","login","LoginReduxForm2","email2","pass2","rememberMe2","captcha2","console","log","maxLen50","minLen2","reduxForm","form","handleSubmit","style","noError","captchaDiv","capthaImg","noCaptcha","alt","src","checked","compose","connect","initialValues","checkAuthorization"],"mappings":"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","file":"static/js/9.f14e29a4.chunk.js","sourcesContent":["export const required = value => {\n    if(value && value.length > 0) {\n        //console.log(value.length)\n        return undefined;\n    }\n    return 'required field';\n}\n\n\n\nexport const maxLenCreator = (maxLen) => (value) => {\n    if(value.length <= maxLen) return undefined;\n    return `max length ${maxLen} symbols`;\n}\n\nexport const minLenCreator = (minLen) => value => {\n    if(value.length >= minLen) return undefined;\n    return `min length ${minLen} symbols`;\n}\n\nexport const onlyNumbers = () => value => {\n    if(value.match(/[0-9]/)) return undefined;\n    return `i accept only numbers `;\n}\n\n","import React from 'react';\nimport styles from './FormsControls.module.css'\nimport {Field} from \"redux-form\";\nimport {required} from \"../../../utils/validate/validator\";\n\nconst FormControl = ({input, meta: {touched,error}, elType, ...props}) => {\n    let hasError = touched && error;\n    // console.log(props)\n    return (\n        <div className={styles.formControls + \" \" + (hasError && styles.error)}>\n\n            <div>\n                {React.createElement(elType, {/*type:'file', */...input, ...props})}\n            </div>\n            {hasError && <span> {error}</span>}\n        </div>\n    )\n}\n\n/*\n\nReact.createElement(\n    \"input\", {\n        className: \"rating-input\", type: \"radio\", name: \"rate\", value: \"1\", ref: \"rating\", onChange: this.handleChange\n    }\n),\n*/\n\n\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    return <FormControl {...props} elType='textarea' />\n}\nexport const Radio = (props) => { // деструктуризація, REST-оператор\n    return <FormControl {...props} elType='input' type='radio'/>\n}\n/*\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <textarea {...input} {...restProps}/>\n    </FormControl>\n}*/\n/*\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <input {...input} {...restProps}/>\n    </FormControl>\n}*/\n\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input'/>\n}\nexport const Hidden = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' type='hidden' />\n}\nexport const FileUpload = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' type='file'/>\n}\n\n\nexport const createMyField = (placeholder,component,name,validators, props = {}, text = '') =>\n    (\n        <div>\n            <Field\n                placeholder={placeholder}\n                component={component}\n                name={name}\n                validate={validators}\n                {...props}\n            /> {text}\n        </div>\n    )\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormsControls_formControls__MCv0m\",\"error\":\"FormsControls_error__9lcue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"captchaDiv\":\"Login_captchaDiv__36ONs\",\"noCaptcha\":\"Login_noCaptcha__nLUEK\",\"error\":\"Login_error__17Wu6\",\"noError\":\"Login_noError__3IZw_\"};","import React, {useEffect} from \"react\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {connect} from \"react-redux\";\nimport {login, checkAuthorization} from \"../../redux/auth_reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {compose} from \"redux\";\nimport {createMyField, Hidden, Input} from \"../common/FormsControls/FormsControls\";\nimport {maxLenCreator, minLenCreator, onlyNumbers, required} from \"../../utils/validate/validator\";\nimport style from \"./Login.module.css\"\n\nconst LoginContainer = (props) => {\n\n    // useEffect(() => {\n    //     let p = this.props;\n    //     let s = this.state;\n    // },[])\n\n\n    return <Login {...props}/>\n}\n\n// class LoginContainer extends React.Component { // зробив для тесту, можна і без цього класу\n//\n//     componentDidUpdate(prevProps, prevState, snapshot) {\n//         let p = this.props;\n//         let s = this.state;\n//         //debugger\n//         // todo не працює при лог-ауті на сайті\n//     }\n//\n//     render() {\n//         return <Login {...this.props}/>\n//     }\n// }\n\nconst Login = (props) => {\n    const onSubmit = ({email,pass,rememberMe,captcha}) => { //formData\n        //\n        if (props.auth.isAuth === false) {\n            props.login(email, pass, rememberMe, captcha)\n        } else {\n            return <Redirect to={'/index'}/>\n        }\n        // console.log(formData)\n    }\n    const onSubmit2 = ({email2,pass2,rememberMe2,captcha2}) => { //formData\n        //\n        console.log('email = ' + email2)\n        if (props.auth.isAuth === false) {\n            props.login(email2, pass2, rememberMe2, captcha2)\n        } else {\n            return <Redirect to={'/index'}/>\n        }\n        // console.log(formData)\n    }\n    return <div>\n        <h1>Авторизація</h1>\n        <LoginReduxForm onSubmit={onSubmit} {...props} /><br/>\n        <LoginReduxForm2 onSubmit={onSubmit2} {...props} />\n    </div>\n}\nconst maxLen50 = maxLenCreator(50);\nconst minLen2 = minLenCreator(2);\n// const numOnly = onlyNumbers();\n\n\nconst LoginForm = ({auth, handleSubmit, error}) => {\n\n    if (auth.isAuth === false) {\n\n        return <form onSubmit={handleSubmit}>\n\n            <div className={(!error ? style.noError : '') + ' ' + style.error}>\n                {error}\n            </div>\n            {createMyField('email', Input, 'email', [required, maxLen50, minLen2],{value: 'test'})}\n            {createMyField('pass', Input, 'pass', [required, maxLen50, minLen2], {type: 'password'})}\n\n\n            <div className={style.captchaDiv + ' ' + (!auth.capthaImg ? style.noCaptcha : '')}>\n                <div>\n                    <img alt='captcha' src={auth.capthaImg ? auth.capthaImg : ''}/>\n                </div>\n                {createMyField('cAp7cH4', Input, 'captcha', (!auth.capthaImg ? [] : [required, maxLen50, minLen2]))}\n            </div>\n\n            {createMyField(null, Input, 'rememberMe', [], {type: 'checkbox',checked: 'checked'}, \"Remember me\")}\n            <div>\n                <button>Log in</button>\n            </div>\n        </form>\n    } else {\n        return <Redirect to={'/index'}/>\n    }\n\n\n}\nconst LoginForm2 = ({auth, handleSubmit, error}) => {\n\n    if (auth.isAuth === false) {\n\n        return <form onSubmit={handleSubmit}>\n\n            <div className={(!error ? style.noError : '') + ' ' + style.error}>\n                {error}\n            </div>\n            {createMyField(null, Hidden, 'email2', [],{'value': 'free@samuraijs.com'})}\n            {createMyField(null, Hidden, 'pass2', [], {'value': 'free'})}\n\n\n            <div className={style.captchaDiv + ' ' + (!auth.capthaImg ? style.noCaptcha : '')}>\n                <div>\n                    <img alt='captcha' src={auth.capthaImg ? auth.capthaImg : ''}/>\n                </div>\n                {createMyField('cAp7cH4', Input, 'captcha2', (!auth.capthaImg ? [] : [required, maxLen50, minLen2]))}\n            </div>\n\n            {createMyField(null, Hidden, 'rememberMe2', [], {value: true} )}\n            <div>\n                <button>Log in for test</button>\n            </div>\n        </form>\n    } else {\n        return <Redirect to={'/index'}/>\n    }\n\n\n}\n\nconst LoginReduxForm = reduxForm({\n    form: 'auth'\n})(LoginForm)\nconst LoginReduxForm2 = reduxForm({\n    form: 'auth2'\n})(LoginForm2)\n\n\nconst mapStateToProps = ({auth}) => {\n    //debugger\n    return {\n        auth: auth,\n        initialValues: {\n            email2: 'free@samuraijs.com',\n            pass2: 'free',\n            rememberMe2: true,\n\n        },\n\n        //capthaImg: props.capthaImg\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, {login, checkAuthorization}),\n)(LoginContainer)\n\n//\n// export default () => {\n//     return <>\n//         <a href={`https://social-network.samuraijs.com/login`} target={`_blank`}>Потрібна авторизація</a>\n//     </>\n// }"],"sourceRoot":""}