{"version":3,"sources":["utils/validate/validator.js","components/common/FormsControls/FormsControls.js","components/common/FormsControls/FormsControls.module.css","images/user.png","components/hoc/withAuthRedirect.jsx","components/GuestBook/GuestBookSendForm/GuestBookSendForm.module.css","components/GuestBook/GuestBookPosts/Post/Post.module.css","components/GuestBook/GuestBookSendForm/GuestBookSendForm.jsx","components/GuestBook/GuestBookPosts/Post/Post.jsx","components/GuestBook/GuestBookPosts/GuestBookPosts.jsx","components/GuestBook/GuestBookContainer.jsx"],"names":["required","value","length","maxLenCreator","maxLen","minLenCreator","minLen","FormControl","input","meta","touched","error","elType","props","hasError","className","styles","formControls","React","createElement","Textarea","Input","FileUpload","type","createMyField","placeholder","component","name","validators","text","validate","module","exports","mapStateToProps","isAuth","auth","withAuthRedirect","Component","connect","to","maxLen150","minLen2","GbReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","c","gb_form_text","gb_form_button","GuestBookSendForm","gb_form","formData","onGBAddPost","new_gb_post","console","log","Post","id","login","time","email","gb_post","gb_post_body","href","src","defaultUserPhoto","ava","alt","gb_post_text","gb_post_date","gb_post_admin","GuestBookPosts","posts","gbPosts","map","p","key","status","compose","gb","newPostText","getGbPosts","newGBpostChange","addGBPost","useEffect","onGBNewPostChange"],"mappings":"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","file":"static/js/4.47cca91d.chunk.js","sourcesContent":["export const required = value => {\n    if(value && value.length > 0) {\n        //console.log(value.length)\n        return undefined;\n    }\n    return 'required field';\n}\n\n\n\nexport const maxLenCreator = (maxLen) => (value) => {\n    if(value.length <= maxLen) return undefined;\n    return `max length ${maxLen} symbols`;\n}\n\nexport const minLenCreator = (minLen) => value => {\n    if(value.length >= minLen) return undefined;\n    return `min length ${minLen} symbols`;\n}\n\nexport const onlyNumbers = () => value => {\n    if(value.match(/[0-9]/)) return undefined;\n    return `i accept only numbers `;\n}\n\n","import React from 'react';\nimport styles from './FormsControls.module.css'\nimport {Field} from \"redux-form\";\nimport {required} from \"../../../utils/validate/validator\";\n\nconst FormControl = ({input, meta: {touched,error}, elType, ...props}) => {\n    let hasError = touched && error;\n\n    return (\n        <div className={styles.formControls + \" \" + (hasError && styles.error)}>\n\n            <div>\n                {React.createElement(elType, {/*type:'file', */...input, ...props})}\n            </div>\n            {hasError && <span> {error}</span>}\n        </div>\n    )\n}\n\n\n\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    return <FormControl {...props} elType='textarea'/>\n}\n/*\nexport const Textarea = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <textarea {...input} {...restProps}/>\n    </FormControl>\n}*/\n/*\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    const {input, meta, ...restProps} = props;\n    return <FormControl {...props}>\n        <input {...input} {...restProps}/>\n    </FormControl>\n}*/\n\nexport const Input = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input'/>\n}\nexport const Hidden = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' />\n}\nexport const FileUpload = (props) => { // деструктуризація, REST-оператор\n    //const {input, meta, ...restProps} = props;\n    return <FormControl {...props} elType='input' type='file'/>\n}\n\n\nexport const createMyField = (placeholder,component,name,validators, props = {}, text = '') =>\n    (\n        <div>\n            <Field\n                placeholder={placeholder}\n                component={component}\n                name={name}\n                validate={validators}\n                {...props}\n            /> {text}\n        </div>\n    )\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControls\":\"FormsControls_formControls__MCv0m\",\"error\":\"FormsControls_error__9lcue\"};","module.exports = __webpack_public_path__ + \"static/media/user.d961d73a.png\";","import React from \"react\";\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = ({auth}) => {\n    return {\n        isAuth: auth.isAuth\n    }\n}\n\nexport const withAuthRedirect = (Component) => {\n\n    const RedirectComponent = (props) => {\n        if(!props.isAuth) return <Redirect to={'/login'}/>;\n        return <Component {...props} />;\n    }\n    /*\n    class RedirectComponent extends React.Component {\n        render() {\n            if(!this.props.isAuth) return <Redirect to={'/login'}/>;\n            return <Component {...this.props} />;\n        }\n    }*/\n\n    return connect(mapStateToProps)(RedirectComponent)\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gb_form\":\"GuestBookSendForm_gb_form__2vqT-\",\"gb_form_text\":\"GuestBookSendForm_gb_form_text__1eS35\",\"gb_form_button\":\"GuestBookSendForm_gb_form_button__GkQ1X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gb_post\":\"Post_gb_post__2nwuZ\",\"name\":\"Post_name__3GSc_\",\"ava\":\"Post_ava__1v3o4\",\"gb_post_text\":\"Post_gb_post_text__2oHBV\",\"gb_post_date\":\"Post_gb_post_date__27A_s\",\"gb_post_admin\":\"Post_gb_post_admin__1ZWcY\",\"gb_post_body\":\"Post_gb_post_body__2xf_m\"};","import React from 'react';\nimport c from './GuestBookSendForm.module.css';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\nimport {maxLenCreator, minLenCreator, required} from \"../../../utils/validate/validator\";\n\nconst maxLen150 = maxLenCreator(150);\nconst minLen2 = minLenCreator(2);\n\nconst GbForm = ({handleSubmit}) => {\n\n    //let new_gb_post = React.createRef();\n\n/*\n    let onPostChange = (props) => {\n        debugger\n        let text = new_gb_post.current.value;\n        props.onGBNewPostChange(text);\n\n    }\n*/\n    return <form onSubmit={handleSubmit}>\n        <div>\n            <Field component={Textarea} name={'new_gb_post'}\n                   placeholder={'new GB post here'} className={c.gb_form_text}\n                    validate={[required,maxLen150,minLen2]}\n            />\n        </div>\n\n        <button className={c.gb_form_button} >Send</button>\n    </form>\n}\n/*\nlet addPost = (props) => {\n    props.onGBAddPost();\n    props.onGBNewPostChange('');\n\n}*/\n\nconst GbReduxForm = reduxForm({\n    form: 'gb_add_post'\n})(GbForm)\n\n\n\n\nconst GuestBookSendForm = (props) => {\n\n    const onSubmit = (formData) => {\n        /*\n        if(props.auth.isAuth === false){\n            props.login(formData.email,formData.pass,formData.rememberMe)\n        }else{\n            return <Redirect to={'/index'}/>\n        }\n        */\n        props.onGBAddPost(formData.new_gb_post);\n        console.log(formData)\n        formData.new_gb_post = '';\n    }\n\n    return (\n        <div className={c.gb_form}>\n          <GbReduxForm {...props} onSubmit={onSubmit} />\n        </div>\n    );\n}\n\nexport default GuestBookSendForm;","import React from 'react';\nimport c from './Post.module.css';\nimport defaultUserPhoto from '../../../../images/user.png'\n\nconst Post = ({id,login,text,time,email}) => {\n  return (\n      <div className={c.gb_post}>\n          <div className={c.gb_post_body}>\n              <a href={'user/'+id} className={c.name}>{login}<br/>\n                <img src={defaultUserPhoto} className={c.ava}  alt='alt'/>\n              </a>\n              <div className={c.gb_post_text}>{text}</div>\n          </div>\n\n          <div className={c.gb_post_date}>{time}<br/>{email}</div>\n          <div className={c.gb_post_admin}><a href={'editpost/'+id}>edit</a>|<a href={'delpost/'+id}>delete</a></div>\n\n      </div>\n  );\n}\n\nexport default Post;","import React from 'react';\nimport Post from \"./Post/Post\";\n\nconst GuestBookPosts = ({gbPosts}) => {\n\n    let posts =  gbPosts.map(p => <Post id={p.id}\n                                              key={p.id}\n                                              text={p.text}\n                                              login={p.login}\n                                              status={p.status}\n                                              time={p.time}\n                                              email={p.email}\n    />);\n\n    return (\n      <div >\n          {posts}\n      </div>\n  );\n}\n\nexport default GuestBookPosts;","import {\n    addGBPost,\n    getGbPosts, newGBpostChange,\n} from \"../../redux/gb_reducer\";\nimport {connect} from \"react-redux\";\nimport React, {useEffect} from \"react\";\nimport c from \"./GuestBook.module.css\";\nimport GuestBookSendForm from \"./GuestBookSendForm/GuestBookSendForm\";\nimport GuestBookPosts from \"./GuestBookPosts/GuestBookPosts\";\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\nconst GuestBookContainer = ({getGbPosts,newGBpostChange,addGBPost,newPostText,gbPosts}) => {\n    useEffect(() => {\n        getGbPosts();\n    },[]);\n\n    // let {newGBpostChange,addGBPost,newPostText,gbPosts} = this.props;\n    return (\n        <div className={c.gb}>\n            <GuestBookSendForm\n                onGBNewPostChange={newGBpostChange}\n                onGBAddPost={addGBPost}\n                newPostText={newPostText}\n            />\n\n            <GuestBookPosts gbPosts={gbPosts}/>\n        </div>\n    );\n}\n/*\nclass GuestBookContainer2 extends React.Component{\n\n    // let {getGbPosts,newGBpostChange,addGBPost,newPostText,gbPosts} => this.props;\n\n    componentDidMount = () => {\n        getGbPosts();\n    }\n\n    render = () => {\n        //if(this.props.isAuth === false) return <Redirect to={'/login'}/>;\n        let {newGBpostChange,addGBPost,newPostText,gbPosts} = this.props;\n        return (\n            <div className={c.gb}>\n                <GuestBookSendForm\n                    onGBNewPostChange={newGBpostChange}\n                    onGBAddPost={addGBPost}\n                    newPostText={newPostText}\n                />\n\n                <GuestBookPosts gbPosts={gbPosts}/>\n            </div>\n        );\n    }\n}*/\n\n\n\nfunction mapStateToProps({gb}) {\n    return {\n        newPostText: gb.newPostText,\n        gbPosts: gb.gbPosts,\n        //isAuth: state.auth.isAuth\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n        getGbPosts,\n        newGBpostChange,\n        addGBPost,\n    }),\n    withAuthRedirect\n)(GuestBookContainer);\n\n\n"],"sourceRoot":""}